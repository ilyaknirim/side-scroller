import{GAME_WIDTH,GAME_HEIGHT}from '../src/utils/constants.js';const mockCanvas={width:GAME_WIDTH,height:GAME_HEIGHT,addEventListener:jest.fn(),getContext:jest.fn(()=>({clearRect:jest.fn(),fillRect:jest.fn(),beginPath:jest.fn(),arc:jest.fn(),fill:jest.fn(),createLinearGradient:jest.fn(()=>({addColorStop:jest.fn()})),fillStyle:'',strokeStyle:'',lineWidth:0}))};const mockScoreElement={textContent:'0'};let mockGameState='start';describe('Breakout Game Interface',()=>{beforeAll(()=>{global.canvas=mockCanvas;global.ctx=mockCanvas.getContext();global.scoreElement=mockScoreElement;global.gameState=mockGameState;global.score=0;});test('Инициализация игры Breakout',async()=>{const breakout=await import('../src/utils/games/breakout.js');expect(breakout.paddle).toBeDefined();expect(breakout.ball).toBeDefined();expect(breakout.bricks).toBeDefined();expect(breakout.background).toBeDefined();expect(breakout.paddle.x).toBe(GAME_WIDTH/2-40);expect(breakout.paddle.y).toBe(GAME_HEIGHT-30);expect(breakout.paddle.width).toBe(80);expect(breakout.paddle.height).toBe(10);expect(breakout.ball.x).toBe(GAME_WIDTH/2);expect(breakout.ball.y).toBe(GAME_HEIGHT-50);expect(breakout.ball.radius).toBe(6);expect(breakout.bricks.rows).toBe(5);expect(breakout.bricks.cols).toBe(8);});test('Отрисовка фона',async()=>{const breakout=await import('../src/utils/games/breakout.js');breakout.background.draw();expect(mockCanvas.getContext().fillRect).toHaveBeenCalledWith(0,0,GAME_WIDTH,GAME_HEIGHT);});test('Сброс игры Breakout',async()=>{const breakout=await import('../src/utils/games/breakout.js');breakout.paddle.x=100;breakout.ball.x=200;breakout.ball.speed=5;breakout.resetBreakout();expect(breakout.paddle.x).toBe(GAME_WIDTH/2-40);expect(breakout.ball.x).toBe(GAME_WIDTH/2);expect(breakout.ball.speed).toBe(4);expect(mockScoreElement.textContent).toBe('0');});});